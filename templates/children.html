{% extends 'base.html' %}
{% block content %}

    <script type="text/javascript">
        $(document).ready(function () {
            var maxField = 15; //Input fields increment limitation
            var addButton = $('.add_button'); //Add button selector
            var wrapper = $('.wrapper'); //Input field wrapper
            var x = 0; //Initial field counter is 1
            //Once add button is clicked
            $(addButton).click(function () {
                //Check maximum number of input fields
                if (x < maxField) {
                    $(wrapper).append('<div class="uk-width-2-3@s"> <input class="uk-input" type="text" placeholder="ФИО участника" name="fio[]" id="fio_' + x + '"> </div> <div class="uk-width-1-3@s"> <input class="uk-input" type="text" placeholder="Место" name="position[]" id="position_' + x + '"></div>');
                    x++;//Increment field counter
                }
                return false;
            })
            $('#submit').click(function () {
                $.ajax({
                    url: "/add_children",
                    method: "POST",
                    data: $('#add_children').serialize(),
                    success: function () {
                        window.location.href="/account";
                    }
                });
            });
        });
    </script>
    <div id="resultbox"></div>
    <form class="uk-form-stacked uk-overlay uk-overlay-default uk-width-1-2" method=post name="add_children"
          id="add_children">
        <div class="uk-margin">
            <label class="uk-form-label uk-text-center" for="form-stacked-text">Уровень мероприятия</label>
            <select class="uk-select uk-margin-small-bottom" name="level">
                <option>Да</option>
                <option>Нет</option>
            </select>
            <div class="uk-form-controls uk-margin-small-bottom">
                <input class="uk-input" type="text" placeholder="Номинация" name="nomination">
            </div>
            <label class="uk-form-label uk-text-center" for="form-stacked-text">Дистанционный</label>
            <select class="uk-select uk-margin-small-bottom" name="distant">
                <option>Да</option>
                <option>Нет</option>
            </select>
            <div class="uk-form-controls uk-margin-small-bottom">
                <input class="uk-input" type="text" placeholder="Объединение" name="union">
            </div>
            <label class="uk-form-label uk-text-center" for="form-stacked-text">Коллектив</label>
            <select class="uk-select uk-margin-small-bottom" name="collective">
                <option>Да</option>
                <option>Нет</option>
            </select>
            <div class="uk-form-controls uk-margin-small-bottom">
                <input class="uk-input" type="text" placeholder="Место проведения" name="place">
            </div>
            <div class="uk-form-controls uk-margin-large-bottom">
                <input class="uk-input" type="text" placeholder="Дата проведения (Пример: 20.12.2022)" name="date">
            </div>

            <div class="uk-grid uk-margin-large-bottom wrapper">
            </div>

            <a class="add_button uk-button uk-button-default uk-width-1-1">Добавить участника</a>
            <input class="uk-button uk-button-primary uk-width-1-1" type="button" name="submit" id="submit"
                   value="Отправить">
        </div>
    </form>

{% endblock %}